---
layout: post
bigtitle: '이펙티브 자바 완벽 공략 1부'
subtitle: 아이템1. 생성자 대신 정적 팩터리 메서드를 고려하라.
date: '2023-11-24 00:00:01 +0900'
categories:
- effective-java1
comments: true

---

# 아이템1. 생성자 대신 정적 팩터리 메서드를 고려하라.

# 아이템1. 생성자 대신 정적 팩터리 메서드를 고려하라.

* toc
{:toc}

## 핵심 정리
+ 장점
  + 이름을 가질 수 있다. (동일한 시그니처의 생성자를 두개 가질 수 없다.) 
    + 추상 팩토리 패턴, 팩토리 메서드 패턴이랑은 무관하다. 그냥 정적 팩토리 메서드이다 
    + 표현을 더 잘할 수 있다 
  + 호출될 때마다 인스턴트를 새로 생성하지 않아도 된다. (Boolean.valueOf)
    + 여러개 인스턴스 생성을 제한 할때
    + 생성자로는 인스턴스의 생성을 컨트롤할 수가 없다 생성자를 퍼플릭하게 제공하는 순간 부터 그 클래스들의 인스턴스는 기본 생성자가 있는 경우에는 객체 생성을 얼마든지 사용하는 쪽에서 원하는 대로 생성 할 수가 있다 
    + 매개변수에 따라 각기 다른 인스턴스를 리턴하는 기능도 정적 팩토리 메소드를 사용하면 가능하다 
    + 플라이웨이트 패턴은 우리가 자주 사용하는 인스턴스들, 가령 폰트라고 생각하면 폰트를 변경한다고 해서 매번 그 새로운 폰트를 만드는 게 아니라 미리 만들어져 있는 폰트 중에서 가져오는 것 그래서 플라이웨이트 패턴은 어떤 자주 사용하는 값들을 미리
      캐싱해서 넣어놓고 거기서 꺼내다 쓰는 형식의 디자인 패턴이다 
    + 정적 팩토리 메서드에서 Flyweight 패턴이 언급이 되었냐면 인스턴스를 통제하는 방법이기 때문에 미리 자주 사용하는 객체들을 만들어 놓고 필요로 하는 인스턴스 꺼내다가 쓸 수 있게 해주는 Flyweight 패턴과 통용되는 개념이 있기 때문에
      Flyweight 패턴이 언급된 것이다
  + 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다. (인터페이스 기반 프레임워크, 인터페이스에 정적 메소드)
  + 입력 매개변수가 따라 매번 다른 클래스의 객체를 반환할 수 있다. (EnumSet)
  + 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다. (서비스 제공자 프레임워크)
+ 단점
  + 상속을 하려면 public이나 protected 생성하기 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.
  + 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.

## 완벽 공략
+ p9, 열거 타입은 인스턴트가 하나만 만들어짐을 보장한다
+ p9, 같은 객체가 자주 요청되는 상황이라면 플라이웨이트 패턴을 사용할 수 있다.
+ p10, 자바 8부터는 인터페이스가 정적 메서드를 가질 수 없다는 제한이 풀렸기 때문에 인스턴스화 불가 동반 클래스를 둘 이유가 별로 없다.
+ p11, 서비스 제공자 프레임워크를 만드는 근간이 된다.
+ p12, 서비스 제공자 인터페이스가 없다면 각 구현체를 인스턴스로 만들 때 리플렉션을 사용해야 한다.
+ p12, 브리지 패턴
+ p12, 의존 객체 주입 프레임워크

