---
layout: post
bigtitle: '이펙티브 자바 완벽 공략 1부'
subtitle: 아이템 2. 생성자에 매개변수가 많다면 빌더를 고려하라.
date: '2023-12-08 00:00:01 +0900'
categories:
- effective-java1
comments: true

---

# 아이템 2. 생성자에 매개변수가 많다면 빌더를 고려하라

# 아이템 2. 생성자에 매개변수가 많다면 빌더를 고려하라

* toc
{:toc}

## 핵심 정리
+ 정적 팩터리와 생성자에 선택적 매개변수가 많을 때 고려할 수 있는 방안
  + 대안1: 점층적 생성자 패턴 또는 생성자 체이닝
    + 매개변수가 늘어나면 클라이언트 코드를 작성하거나 읽기 어렵다
  + 대안2: 자바빈즈 패턴
    + 완전한 객체를 만들려면 메서드를 여러번 호출해야 한다. (일관성이 무너진 상태가 될 수도 있다.)
    + 클래스를 불변으로 만들 수 없다.
+ 권장하는 방법: 빌더 패턴
  + 플루언트 API 또는 메서드 체이닝을 한다
  + 계층적으로 설계된 클래스와 함께 사용하기 좋다. (계층형 빌더) 
    + **self 매커니즘을 사용해서 타입 변환 없이 하위 객체를 반환할 수 있다** 
  + 점층적 생성자보다 클라이언트 코드를 읽고 쓰기가 훨씬 간결하고, 자바빈즈 보다 훨씬 안전하다.

## 완벽 공략
+ p15, 자바빈즈, 게터, 세터
+ p17, 객체 얼리기 (freezing)
+ p17, 빌더 패턴
+ p19, IllegalArgumentException
+ p21, 가변인수 (varargs) 매개변수를 여러 개 사용할 수 있다

### 아이템 2. 완벽 공략 6 - 자바빈
(주로 GUI에서) 재사용 가능한 소프트웨어 컴포넌트
  + [https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/](https://download.oracle.com/otndocs/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/)
+ java.beans 패키지 안에 있는 모든 것
+ 그 중에서도 자바빈이 지켜야 할 규약
  + 아규먼트 없는 기본 생성자
    + 객체를 만들기 편하기 때문에 리플렉션을 통해서 특정 객체들을 만들고 값대를 주입 근데 이때 리플렉션으로 어떠한 인스턴스를 만들려면 생성자를 통해서 만들어야 하는데
      생성자의 아귀먼트가 있으면 만들기가 굉장히 번거롭다 기본 생성자가 있으면 쉽게 만들 수 있기 때문에 기본 생성자를 제공하도록 규약을 정해놓은 거다
  + getter와 setter 메소드 이름 규약
  + Serializable 인터페이스 구현
    + 시리얼라이저블은 직렬화 기능이다 객체를 직렬화하고 객체를 역직렬화한다는 것은 객체를 직렬화해서 어딘가에 저장을 해놓고 나중에 다시 읽어서 쓸 수 있게끔 만들겠다는 그런 의도가
      있는 거다 우리가 어떤 객체를 여기서 만들겠지만 그 객체를 한 번 만들고 끝나는 게 아니라 나중에 다시 읽어서 수정을 하거나 재사용할 수가 있다 그러려면 객체를 저장 가능한 형태로 만들어야 된다 
    + 즉 객체가 가지고 있는 모든 값들을 어딘가에 잘 그 객체 그 상태 그대로 저장을 했다가 그 상태 그대로 모든 필드가 원래 가지고 있던 값 그대로 복원이 되는 그런 기능이 필요할거다
      시리얼라이저블을 구현해놔야 언젠가는 그 객체를 증여라로 저장했다가 복원할 수 있으니까 그래서 이런 세 가지 규약을 강제는 아니고 규약을 지키도록 권장하고 있다
+ 하지만 실제로 오늘날 자바빈 스팩 중에서도 getter와 setter가 주로 쓰는 이유는?
  + JPA나 스프링과 같은 여러 프레임워크에서 리플렉션을 통해 특정 객체의 값을 조회하거나 설정하기 때문이다.
