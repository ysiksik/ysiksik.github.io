---
layout: post
bigtitle: 'ì•Œê³ ë¦¬ì¦˜ ìœ í˜•ë³„ ë¬¸ì œí’€ì´'
subtitle: 06.íŠ¸ë¦¬ (Tree)
date: '2022-08-26 00:00:00 +0900'
categories:
    - study
    - algorithm
    - fastcampus-codingtest-java
comments: true
tags: fastcampusAlgorithm
# related_posts:
#     -
---

# [Part3 Ch02 ì•Œê³ ë¦¬ì¦˜] 06.íŠ¸ë¦¬ (Tree)

# 06.íŠ¸ë¦¬ (Tree)
* toc
{:toc}

## íŠ¸ë¦¬ë€?
+ Graph ì˜ íŠ¹ìˆ˜í•œ í˜•íƒœ
+ ëª¨ë‘ê°€ ì—°ê²°ë˜ì–´ ìˆëŠ” ê·¸ë˜í”„
  + ì–´ë–¤ ë‘ ì ì„ ê³¨ë¼ë„ ê°„ì„ ì„ íƒ€ê³  ì‚¬ì´ë¥¼ ì´ë™ ê°€ëŠ¥
+ ì‚¬ì´í´ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
+ ì •ì ì˜ ê°œìˆ˜ (V) = ê°„ì„ ì˜ ê°œìˆ˜ (E) + 1

## íŠ¸ë¦¬ ë¬¸ì œì˜ Keyword
+ ì¦‰ ëª¨ë“  ë‘ ì •ì  ì‚¬ì´ì— ì´ë“¤ì„ ì‡ëŠ” ê²½ë¡œê°€ ì¡´ì¬í•˜ë©´ì„œ ì‚¬ì´í´ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë§Œ ê³ ë ¤í•œë‹¤.
+ ì¦‰ ë§ˆì„ê³¼ ë§ˆì„ ì‚¬ì´ë¥¼ ì§ì ‘ ì‡ëŠ” N-1ê°œì˜ ê¸¸ì´ ìˆìœ¼ë©°, ëª¨ë“  ë§ˆì„ì€ ì—°ê²°ë˜ì–´ ìˆë‹¤.
+ ë¬¸ì œëŠ” ì¼ë°˜ì ì¸ ê·¸ë˜í”„ê°€ ì•„ë‹ˆë¼ íŠ¸ë¦¬(ì—°ê²°ë˜ì–´ ìˆê³  ì‚¬ì´í´ì´ ì—†ëŠ” ê·¸ë˜í”„)

## íŠ¸ë¦¬ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•
+ íŠ¸ë¦¬ëŠ” ëŒ€ë¶€ë¶„ ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¡œ ì €ì¥
  + ê³µê°„ ë³µì¡ë„ ì´ìŠˆ ë•Œë¬¸ì— 

|                       | ì¸ì „ í–‰ë ¬          | ì¸ì ‘ ë¦¬ìŠ¤íŠ¸                  |
|-----------------------|----------------|-------------------------| 
| Aì™€ Bë¥¼ ì‡ëŠ” ê°„ì„  ì¡´ì¬ ì—¬ë¶€ í™•ì¸  | O(1)           | O(min(deg(A), deg(B)))  |
| Aì™€ ì—°ê²°ëœ ëª¨ë“  ì •ì  í™•ì¸       | O(V)           | O(deg(A))               |
| ê³µê°„ ë³µì¡ë„                | $$ O(ğ‘‰^2) $$  | O(E)                    |


## íŠ¸ë¦¬ ë¬¸ì œì˜ í•µì‹¬
+ ì •ì (Vertex) ì™€ ê°„ì„ (Edge) ì— ëŒ€í•œ ì •í™•í•œ ì •ì˜
+ íŠ¸ë¦¬ì˜ ìš”ì†Œì™€ ë¬¸ì œì˜ ìš”êµ¬ ì‚¬í•­ ë§¤ì¹˜

## [ë°±ì¤€ 11725ë²ˆ - íŠ¸ë¦¬ì˜ ë¶€ëª¨ ì°¾ê¸°](https://www.acmicpc.net/problem/11725)
---

+ ì‹œê°„, ê³µê°„ ë³µì¡ë„ ê³„ì‚°í•˜ê¸°
  + Root ë¥¼ ì‹œì‘ìœ¼ë¡œ í•˜ëŠ” ê·¸ë˜í”„ íƒìƒ‰ ë¬¸ì œ 
    + íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ : BFS or DFS
      + ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¥¼ ì“´ë‹¤ë©´ O(V+E)
      + DFS ê°€ ë§¤ìš° ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. 

* __êµ¬í˜„__

~~~java

public class baekjoon11725 {

    static int N;
    static ArrayList<Integer>[] graph;
    static int[] parent;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        N = Integer.parseInt(br.readLine());

        graph = new ArrayList[N + 1];
        parent = new int[N + 1];
        for (int i = 1; i <= N; i++) {
            graph[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine(), " ");
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());

            graph[x].add(y);
            graph[y].add(x);
        }

        dfs11725(1, -1);


        for (int i = 2; i < parent.length; i++) {
            System.out.println(parent[i]);
        }


    }

    private static void dfs11725(int x, int par) {

        for (int y : graph[x]) {
            if (y == par) continue;
            parent[y] = x;
            dfs11725(y, x);
        }

    }

}

~~~
***


## [ë°±ì¤€ 4803ë²ˆ - íŠ¸ë¦¬](https://www.acmicpc.net/problem/4803)
---

* __êµ¬í˜„__

~~~java

public class baekjoon4803 {

    static ArrayList<Integer>[] graph;
    static int n, m, vertex_cnt, edge_cnt;
    static StringBuilder sb = new StringBuilder();

    static boolean[] visit;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int testcase = 0;
        while (true) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            n = Integer.parseInt(st.nextToken());
            m = Integer.parseInt(st.nextToken());

            if (n == 0 && m == 0) {
                break;
            }

            graph = new ArrayList[n + 1];
            visit = new boolean[n + 1];

            for (int i = 1; i <= n; i++) {
                graph[i] = new ArrayList<>();
            }

            for (int i = 0; i < m; i++) {
                st = new StringTokenizer(br.readLine());
                int x = Integer.parseInt(st.nextToken());
                int y = Integer.parseInt(st.nextToken());

                graph[x].add(y);
                graph[y].add(x);

            }

            int result = 0;
            for (int i = 1; i <= n; i++) {
                if (visit[i]) continue;
                vertex_cnt = 0;
                edge_cnt = 0;

                dfs4803(i);

                if (edge_cnt == (vertex_cnt - 1) * 2) result++;

            }


            sb.append("Case ").append(++testcase).append(": ");

            if (result == 0) {
                sb.append("No trees.\n");
            } else if (result == 1) {
                sb.append("There is one tree.\n");
            } else {
                sb.append("A forest of ").append(result).append(" trees.\n");
            }

        }
        System.out.println(sb);

    }

    private static void dfs4803(int x) {
        vertex_cnt++;
        edge_cnt += graph[x].size();
        visit[x] = true;
        for (int y : graph[x]) {
            if (visit[y]) continue;
            dfs4803(y);
        }

    }
    
}

~~~

***


## [ë°±ì¤€ 1991ë²ˆ - íŠ¸ë¦¬ ìˆœíšŒ](https://www.acmicpc.net/problem/1991)
---

* __êµ¬í˜„__

~~~java

public class baekjoon1991 {

    static int[][] graph;
    static int N;
    static StringBuilder sb = new StringBuilder();

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        graph = new int[30][2];

        N = Integer.parseInt(br.readLine());

        for (int i = 0; i < N; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine(), " ");
            char c = st.nextToken().charAt(0);
            int cur = (int) (c - 'A');
            for (int j = 0; j < 2; j++) {
                char ch = st.nextToken().charAt(0);
                if (ch != '.') graph[cur][j] = (int) (ch - 'A');
                else graph[cur][j] = -1;
            }
        }

        pre_order(0);
        sb.append("\n");
        in_order(0);
        sb.append("\n");
        post_order(0);

        System.out.println(sb);
    }

    static void in_order(int x) {
        if (x == -1) return;
        in_order(graph[x][0]);
        sb.append((char) (x + 'A'));
        in_order(graph[x][1]);
    }

    static void pre_order(int x) {
        if (x == -1) return;
        sb.append((char) (x + 'A'));
        pre_order(graph[x][0]);
        pre_order(graph[x][1]);

    }

    static void post_order(int x) {
        if (x == -1) return;
        post_order(graph[x][0]);
        post_order(graph[x][1]);
        sb.append((char) (x + 'A'));
    }


}

~~~

***


## [ë°±ì¤€ 15900ë²ˆ - ë‚˜ë¬´ íƒˆì¶œ](https://www.acmicpc.net/problem/15900)

---

* __êµ¬í˜„__

~~~java

public class baekjoon15900 {

    static int N, sum_leaf;
    static ArrayList<Integer>[] graph;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        N = Integer.parseInt(br.readLine());

        graph = new ArrayList[N + 1];

        for (int i = 1; i <= N; i++) {
            graph[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());

            graph[x].add(y);
            graph[y].add(x);

        }

        dfs15900(1, -1, 0);

        if (sum_leaf % 2 == 0) System.out.println("No");
        else System.out.println("Yes");
    }

    private static void dfs15900(int x, int prev, int depth) {
        if (x != 1 && graph[x].size() == 1) sum_leaf += depth;
        for (int y : graph[x]) {
            if (y == prev) continue;
            dfs15900(y, x, depth + 1);
        }

    }


}

~~~

***


## [ë°±ì¤€ 20364ë²ˆ - ë¶€ë™ì‚° ë‹¤íˆ¼](https://www.acmicpc.net/problem/20364)

---

* __êµ¬í˜„__

~~~java

public class baekjoon20364 {

    static boolean[] state;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");

        int N = Integer.parseInt(st.nextToken());
        int Q = Integer.parseInt(st.nextToken());

        state = new boolean[N + 1];

        StringBuilder sb = new StringBuilder();

        while (Q-- > 0) {
            int x = Integer.parseInt(br.readLine());
            int y = x;
            int result = 0;

            while (x > 0) {
                if (state[x]) result = x;
                x >>= 1;
            }

            state[y] = true;

            sb.append(result).append("\n");

        }

        System.out.println(sb);
    }

}

~~~

***


## [ë°±ì¤€ 3584ë²ˆ - ê°€ì¥ ê°€ê¹Œìš´ ê³µí†µ ì¡°ìƒ](https://www.acmicpc.net/problem/3584)

---

* __êµ¬í˜„__

~~~java

public class baekjoon3584 {


    static int N;
    static int[] per, check;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int T = Integer.parseInt(br.readLine());

        for (int t = 0; t < T; t++) {

            N = Integer.parseInt(br.readLine());

            per = new int[N + 1];
            check = new int[N + 1];

            for (int i = 1; i < N; i++) {
                StringTokenizer st = new StringTokenizer(br.readLine(), " ");
                int u = Integer.parseInt(st.nextToken());
                int v = Integer.parseInt(st.nextToken());

                per[v] = u;
            }

            StringTokenizer st = new StringTokenizer(br.readLine(), " ");
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());

            while (x > 0) {
                check[x] = 1;
                x = per[x];
            }

            while (y > 0 && check[y] == 0) {
                y = per[y];
            }

            System.out.println(y);

        }

    }

}

~~~

***



## [ë°±ì¤€ 1240ë²ˆ - ë…¸ë“œ ì‚¬ì´ì˜ ê±°ë¦¬](https://www.acmicpc.net/problem/1240)

---

* __êµ¬í˜„__

~~~java

public class baekjoon1240 {

    static ArrayList<int[]>[] tree;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");

        int N = Integer.parseInt(st.nextToken());
        int M = Integer.parseInt(st.nextToken());

        tree = new ArrayList[N + 1];

        for (int i = 1; i <= N; i++) {
            tree[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());
            int c = Integer.parseInt(st.nextToken());

            tree[x].add(new int[]{y, c});
            tree[y].add(new int[]{x, c});

        }

        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine(), " ");

            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());

            dfs1240(x, -1, y, 0);

        }


    }

    private static void dfs1240(int x, int prev, int goal, int dist) {
        if (x == goal) {
            System.out.println(dist);
            return;
        }

        for (int[] cur : tree[x]) {
            if (cur[0] == prev) continue;
            dfs1240(cur[0], x, goal, dist + cur[1]);
        }

    }

}


~~~

***


## [ë°±ì¤€ 9489ë²ˆ - ì‚¬ì´Œ](https://www.acmicpc.net/problem/9489)

---

* __êµ¬í˜„__

~~~java

public class baekjoon9489 {


    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        while (true) {
            StringTokenizer st = new StringTokenizer(br.readLine(), " ");

            int N = Integer.parseInt(st.nextToken());
            int K = Integer.parseInt(st.nextToken());

            if (N == 0 && K == 0) break;

            int[] tree = new int[N + 1], par = new int[N + 1];

            st = new StringTokenizer(br.readLine(), " ");
            for (int i = 1; i <= N; i++) {
                tree[i] = Integer.parseInt(st.nextToken());
            }

            par[0] = -1;
            par[1] = 0;

            int last = 1;

            for (int i = 2; i <= N; i++, last++) {
                for (; i <= N; i++) {
                    par[i] = last;
                    if (i < N && tree[i] + 1 != tree[i + 1]) {
                        break;
                    }
                }
            }

            int findIdx = 0;
            for (int i = 1; i <= N; i++) {
                if (tree[i] == K) findIdx = i;
            }

            int result = 0;
            for (int i = 1; i <= N; i++) {
                if (par[par[i]] == par[par[findIdx]] && par[i] != par[findIdx]) {
                    result++;
                }
            }

            System.out.println(result);

        }

    }
}

~~~

***

## [ë°±ì¤€ 1068ë²ˆ - íŠ¸ë¦¬](https://www.acmicpc.net/problem/1068)

---

+ ì •ë‹µì˜ ìµœëŒ€ì¹˜
  + ë‹¨ë§ì˜ ë…¸ë“œ ê°œìˆ˜ â‰¤ ì „ì²´ ì •ì ì˜ ê°œìˆ˜ â‰¤ N  Integer ë²”ìœ„ ì•ˆì— ë“¤ì–´ì˜¨ë‹¤
+ ì •ì  ì œê±° ë°©ë²•
  + ê·¸ë˜í”„ì—ì„œ ì •ì ì´ ì‚¬ë¼ì§„ë‹¤?
  + ì •ì ê³¼ ì´ì–´ì§„ ê°„ì„ ë“¤ì´ ëª¨ë‘ ì‚¬ë¼ì§„ë‹¤
  + ì •ì  xì˜ ë¶€ëª¨ì—ì„œ xë¡œ ê°€ëŠ” ê°„ì„ ì„ ì‚­ì œ or ë¬´ì‹œ í•˜ì
+ íŠ¸ë¦¬ì˜ ë‹¨ë§ ë…¸ë“œ ê°œìˆ˜ë¥¼ ì„¸ëŠ” ë°©ë²•
  + Root ì—ì„œ DFSë¥¼ í•œë‹¤ë©´?
    + ì–´ë–¤ ë…¸ë“œ xì—ì„œ ìì‹ ë…¸ë“œ yì— ëŒ€í•œ íƒìƒ‰ì„ ëë‚´ê³  ëŒì•„ì˜¤ë©´ leaf[y] ê°’ì´ ê³„ì‚°ë˜ì–´ ì™”ì„ í…Œë‹ˆ, leaf[x] ì— leaf[y]ë¥¼ ëˆ„ì í•´ì£¼ë©´ ëœë‹¤.
+ ì‹œê°„, ê³µê°„ ë³µì¡ê³  ê³„ì‚°í•˜ê¸°
  + Root ë¥¼ ì‹œì‘ìœ¼ë¡œ í•˜ëŠ” ê·¸ë˜í”„ íƒìƒ‰ ë¬¸ì œ
    + íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ : DFS or DFS
      + ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¥¼ ì“´ë‹¤ë©´ O(V+E)
      + DFS ê°€ ë§¤ìš° ì‰½ê²Œ êµ¬í˜„ í•  ìˆ˜ ìˆë‹¤.
  

* __êµ¬í˜„__

~~~java

public class baekjoon1068 {

    static int n, root, removal;
    static ArrayList<Integer>[] child;
    static int[] leaf;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        n = Integer.parseInt(br.readLine());

        child = new ArrayList[n];
        leaf = new int[n];

        for (int i = 0; i < n; i++) child[i] = new ArrayList<>();

        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        for (int i = 0; i < n; i++) {
            int par = Integer.parseInt(st.nextToken());
            if (par == -1) {
                root = i;
                continue;
            }
            child[par].add(i);
        }

        removal = Integer.parseInt(br.readLine());

        for (int i = 0; i < n; i++) {
            if (child[i].contains(removal)) {
                child[i].remove(child[i].indexOf(removal));
            }
        }

        if (root != removal) dfs1068(root, -1);

        System.out.println(leaf[root]);

    }

    private static void dfs1068(int x, int prev) {
        if (child[x].isEmpty()) {
            leaf[x]++;
        }

        for (int y : child[x]) {
            if (y == prev) continue;
            dfs1068(y, x);
            leaf[x] += leaf[y];
        }

    }
}


~~~

***

## [ë°±ì¤€ 15681ë²ˆ - íŠ¸ë¦¬ì™€ ì¿¼ë¦¬](https://www.acmicpc.net/problem/15681)

---

* __êµ¬í˜„__

~~~java

public class baekjoon15681 {

    static int N, R, Q;
    static ArrayList<Integer>[] tree;
    static int[] Dy;

    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        StringTokenizer st = new StringTokenizer(br.readLine(), " ");

        N = Integer.parseInt(st.nextToken());
        R = Integer.parseInt(st.nextToken());
        Q = Integer.parseInt(st.nextToken());


        tree = new ArrayList[N + 1];
        Dy = new int[N + 1];

        for (int i = 1; i <= N; i++) {
            tree[i] = new ArrayList<>();
        }

        for (int i = 1; i < N; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            int x = Integer.parseInt(st.nextToken());
            int y = Integer.parseInt(st.nextToken());

            tree[x].add(y);
            tree[y].add(x);
        }

        dfs15681(R, -1);

        for (int i = 0; i < Q; i++) {
            int q = Integer.parseInt(br.readLine());

            System.out.println(Dy[q]);


        }

    }

    private static void dfs15681(int x, int prev) {
        Dy[x] = 1;
        for (int y : tree[x]) {
            if (y == prev) continue;
            dfs15681(y, x);
            Dy[x] += Dy[y];

        }

    }

}

~~~

***

## [ë°±ì¤€ 14267ë²ˆ - íšŒì‚¬ ë¬¸í™”1](https://www.acmicpc.net/problem/14267)

---

* __êµ¬í˜„__

~~~java

public class baekjoon14267 {

    static int N, M;

    static int[] Dy;

    static ArrayList<Integer>[] children;


    public static void main(String[] args) throws IOException {

        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        StringTokenizer st = new StringTokenizer(br.readLine(), " ");

        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());

        children = new ArrayList[N + 1];
        Dy = new int[N + 1];


        for (int i = 1; i <= N; i++) {
            children[i] = new ArrayList<>();
        }

        st = new StringTokenizer(br.readLine(), " ");

        for (int i = 1; i <= N; i++) {
            int par = Integer.parseInt(st.nextToken());
            if (i == 1) continue;
            children[par].add(i);
        }

        for (int i = 0; i < M; i++) {
            st = new StringTokenizer(br.readLine(), " ");
            int x = Integer.parseInt(st.nextToken());
            int s = Integer.parseInt(st.nextToken());
            Dy[x] += s;
        }

        dfs1427(1);

        StringBuilder sb = new StringBuilder();
        for (int i = 1; i <= N; i++) {
            sb.append(Dy[i]).append(" ");
        }
        System.out.println(sb);

    }

    private static void dfs1427(int x) {

        for (int y : children[x]) {
            Dy[y] += Dy[x];
            dfs1427(y);
        }
    }


}

~~~

***

